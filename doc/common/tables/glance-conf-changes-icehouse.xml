<?xml version='1.0' encoding='UTF-8'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="glance-conf-changes-icehouse">
  <!-- Warning: Do not edit this file. It is automatically generated and your changes will be overwritten. The tool to do so lives in the openstack-doc-tools repository. -->
  <title>New, updated and deprecated options for glance</title>
  <table>
    <caption>New options</caption>
    <col width="50%"/>
    <col width="50%"/>
    <thead>
      <tr>
        <td>Option = default value</td>
        <td>(Type) Help string</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] amqp_auto_delete = False</td>
      <td>(BoolOpt) Auto-delete queues in amqp.</td>
    </tr>
    <tr>
      <td>[DEFAULT] amqp_durable_queues = False</td>
      <td>(BoolOpt) Use durable queues in amqp.</td>
    </tr>
    <tr>
      <td>[DEFAULT] control_exchange = openstack</td>
      <td>(StrOpt) The default exchange under which topics are scoped. May be overridden by an exchange name specified in the transport_url option.</td>
    </tr>
    <tr>
      <td>[DEFAULT] enable_v1_registry = True</td>
      <td>(BoolOpt) Deploy the v1 OpenStack Registry API.</td>
    </tr>
    <tr>
      <td>[DEFAULT] enable_v2_registry = True</td>
      <td>(BoolOpt) Deploy the v2 OpenStack Registry API.</td>
    </tr>
    <tr>
      <td>[DEFAULT] fake_rabbit = False</td>
      <td>(BoolOpt) If passed, use a fake RabbitMQ provider.</td>
    </tr>
    <tr>
      <td>[DEFAULT] filesystem_store_datadirs = None</td>
      <td>(MultiStrOpt) List of directories and its priorities to which the Filesystem backend store writes images.</td>
    </tr>
    <tr>
      <td>[DEFAULT] host = 127.0.0.1</td>
      <td>(StrOpt) Host to locate redis.</td>
    </tr>
    <tr>
      <td>[DEFAULT] image_location_quota = 10</td>
      <td>(IntOpt) Maximum number of locations allowed on an image. Negative values evaluate to unlimited.</td>
    </tr>
    <tr>
      <td>[DEFAULT] image_member_quota = 128</td>
      <td>(IntOpt) Maximum number of image members per image. Negative values evaluate to unlimited.</td>
    </tr>
    <tr>
      <td>[DEFAULT] image_property_quota = 128</td>
      <td>(IntOpt) Maximum number of properties allowed on an image. Negative values evaluate to unlimited.</td>
    </tr>
    <tr>
      <td>[DEFAULT] image_tag_quota = 128</td>
      <td>(IntOpt) Maximum number of tags allowed on an image. Negative values evaluate to unlimited.</td>
    </tr>
    <tr>
      <td>[DEFAULT] kombu_reconnect_delay = 1.0</td>
      <td>(FloatOpt) How long to wait before reconnecting in response to an AMQP consumer cancel notification.</td>
    </tr>
    <tr>
      <td>[DEFAULT] kombu_ssl_ca_certs = </td>
      <td>(StrOpt) SSL certification authority file (valid only if SSL enabled).</td>
    </tr>
    <tr>
      <td>[DEFAULT] kombu_ssl_certfile = </td>
      <td>(StrOpt) SSL cert file (valid only if SSL enabled).</td>
    </tr>
    <tr>
      <td>[DEFAULT] kombu_ssl_keyfile = </td>
      <td>(StrOpt) SSL key file (valid only if SSL enabled).</td>
    </tr>
    <tr>
      <td>[DEFAULT] kombu_ssl_version = </td>
      <td>(StrOpt) SSL version to use (valid only if SSL enabled). valid values are TLSv1, SSLv23 and SSLv3. SSLv2 may be available on some distributions.</td>
    </tr>
    <tr>
      <td>[DEFAULT] location_strategy = location_order</td>
      <td>(StrOpt) This value sets what strategy will be used to determine the image location order. Currently two strategies are packaged with Glance 'location_order' and 'store_type'.</td>
    </tr>
    <tr>
      <td>[DEFAULT] log_config_append = None</td>
      <td>(StrOpt) The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files.</td>
    </tr>
    <tr>
      <td>[DEFAULT] matchmaker_heartbeat_freq = 300</td>
      <td>(IntOpt) Heartbeat frequency.</td>
    </tr>
    <tr>
      <td>[DEFAULT] matchmaker_heartbeat_ttl = 600</td>
      <td>(IntOpt) Heartbeat time-to-live.</td>
    </tr>
    <tr>
      <td>[DEFAULT] max_header_line = 16384</td>
      <td>(IntOpt) Maximum line size of message headers to be accepted. max_header_line may need to be increased when using large tokens (typically those generated by the Keystone v3 API with big service catalogs</td>
    </tr>
    <tr>
      <td>[DEFAULT] notification_topics = ['notifications']</td>
      <td>(ListOpt) AMQP topic used for OpenStack notifications.</td>
    </tr>
    <tr>
      <td>[DEFAULT] password = None</td>
      <td>(StrOpt) Password for Redis server (optional).</td>
    </tr>
    <tr>
      <td>[DEFAULT] port = 6379</td>
      <td>(IntOpt) Use this port to connect to redis host.</td>
    </tr>
    <tr>
      <td>[DEFAULT] property_protection_rule_format = roles</td>
      <td>(StrOpt) This config value indicates whether "roles" or "policies" are used in the property protection file.</td>
    </tr>
    <tr>
      <td>[DEFAULT] qpid_hosts = ['$qpid_hostname:$qpid_port']</td>
      <td>(ListOpt) Qpid HA cluster host:port pairs.</td>
    </tr>
    <tr>
      <td>[DEFAULT] qpid_topology_version = 1</td>
      <td>(IntOpt) The qpid topology version to use.  Version 1 is what was originally used by impl_qpid.  Version 2 includes some backwards-incompatible changes that allow broker federation to work.  Users should update to version 2 when they are able to take everything down, as it requires a clean break.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rabbit_ha_queues = False</td>
      <td>(BoolOpt) Use HA queues in RabbitMQ (x-ha-policy: all). If you change this option, you must wipe the RabbitMQ database.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rabbit_hosts = ['$rabbit_host:$rabbit_port']</td>
      <td>(ListOpt) RabbitMQ HA cluster host:port pairs.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rabbit_login_method = AMQPLAIN</td>
      <td>(StrOpt) the RabbitMQ login method</td>
    </tr>
    <tr>
      <td>[DEFAULT] rabbit_retry_interval = 1</td>
      <td>(IntOpt) How frequently to retry connecting with RabbitMQ.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_backend = rabbit</td>
      <td>(StrOpt) The messaging driver to use, defaults to rabbit. Other drivers include qpid and zmq.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_cast_timeout = 30</td>
      <td>(IntOpt) Seconds to wait before a cast expires (TTL). Only supported by impl_zmq.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_conn_pool_size = 30</td>
      <td>(IntOpt) Size of RPC connection pool.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_response_timeout = 60</td>
      <td>(IntOpt) Seconds to wait for a response from a call.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_thread_pool_size = 64</td>
      <td>(IntOpt) Size of RPC greenthread pool.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_bind_address = *</td>
      <td>(StrOpt) ZeroMQ bind address. Should be a wildcard (*), an ethernet interface, or IP. The "host" option should point or resolve to this address.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_contexts = 1</td>
      <td>(IntOpt) Number of ZeroMQ contexts, defaults to 1.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_host = shock</td>
      <td>(StrOpt) Name of this node. Must be a valid hostname, FQDN, or IP address. Must match "host" option, if running Nova.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_ipc_dir = /var/run/openstack</td>
      <td>(StrOpt) Directory for holding IPC sockets.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_matchmaker = oslo.messaging._drivers.matchmaker.MatchMakerLocalhost</td>
      <td>(StrOpt) MatchMaker driver.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_port = 9501</td>
      <td>(IntOpt) ZeroMQ receiver listening port.</td>
    </tr>
    <tr>
      <td>[DEFAULT] rpc_zmq_topic_backlog = None</td>
      <td>(IntOpt) Maximum number of ingress messages to locally buffer per topic. Default is unlimited.</td>
    </tr>
    <tr>
      <td>[DEFAULT] swift_store_retry_get_count = 0</td>
      <td>(IntOpt) The number of times a Swift download will be retried before the request fails.</td>
    </tr>
    <tr>
      <td>[DEFAULT] transport_url = None</td>
      <td>(StrOpt) A URL representing the messaging driver to use and its full configuration. If not set, we fall back to the rpc_backend option and driver specific configuration.</td>
    </tr>
    <tr>
      <td>[DEFAULT] use_syslog_rfc_format = False</td>
      <td>(BoolOpt) (Optional) Use syslog rfc5424 format for logging. If enabled, will add APP-NAME (RFC5424) before the MSG part of the syslog message.  The old format without APP-NAME is deprecated in I, and will be removed in J.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_api_insecure = False</td>
      <td>(BoolOpt) Allow to perform insecure SSL requests to ESX/VC.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_api_retry_count = 10</td>
      <td>(IntOpt) Number of times VMware ESX/VC server API must be retried upon connection related issues.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_datacenter_path = ha-datacenter</td>
      <td>(StrOpt) Inventory path to a datacenter. If the vmware_server_host specified is an ESX/ESXi, the vmware_datacenter_path is optional. If specified, it should be "ha-datacenter".</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_datastore_name = None</td>
      <td>(StrOpt) Datastore associated with the datacenter.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_server_host = None</td>
      <td>(StrOpt) ESX/ESXi or vCenter Server target system. The server value can be an IP address or a DNS name.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_server_password = None</td>
      <td>(StrOpt) Password for authenticating with VMware ESX/VC server.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_server_username = None</td>
      <td>(StrOpt) Username for authenticating with VMware ESX/VC server.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_store_image_dir = /openstack_glance</td>
      <td>(StrOpt) The name of the directory where the glance images will be stored in the VMware datastore.</td>
    </tr>
    <tr>
      <td>[DEFAULT] vmware_task_poll_interval = 5</td>
      <td>(IntOpt) The interval used for polling remote tasks invoked on VMware ESX/VC server.</td>
    </tr>
    <tr>
      <td>[database] backend = sqlalchemy</td>
      <td>(StrOpt) The backend to use for db</td>
    </tr>
    <tr>
      <td>[database] connection = None</td>
      <td>(StrOpt) The SQLAlchemy connection string used to connect to the database</td>
    </tr>
    <tr>
      <td>[database] connection_debug = 0</td>
      <td>(IntOpt) Verbosity of SQL debugging information. 0=None, 100=Everything</td>
    </tr>
    <tr>
      <td>[database] connection_trace = False</td>
      <td>(BoolOpt) Add python stack traces to SQL as comment strings</td>
    </tr>
    <tr>
      <td>[database] db_inc_retry_interval = True</td>
      <td>(BoolOpt) Whether to increase interval between db connection retries, up to db_max_retry_interval</td>
    </tr>
    <tr>
      <td>[database] db_max_retries = 20</td>
      <td>(IntOpt) maximum db connection retries before error is raised. (setting -1 implies an infinite retry count)</td>
    </tr>
    <tr>
      <td>[database] db_max_retry_interval = 10</td>
      <td>(IntOpt) max seconds between db connection retries, if db_inc_retry_interval is enabled</td>
    </tr>
    <tr>
      <td>[database] db_retry_interval = 1</td>
      <td>(IntOpt) seconds between db connection retries</td>
    </tr>
    <tr>
      <td>[database] idle_timeout = 3600</td>
      <td>(IntOpt) Timeout before idle sql connections are reaped</td>
    </tr>
    <tr>
      <td>[database] max_overflow = None</td>
      <td>(IntOpt) If set, use this value for max_overflow with sqlalchemy</td>
    </tr>
    <tr>
      <td>[database] max_pool_size = None</td>
      <td>(IntOpt) Maximum number of SQL connections to keep open in a pool</td>
    </tr>
    <tr>
      <td>[database] max_retries = 10</td>
      <td>(IntOpt) Maximum db connection retries during startup. (setting -1 implies an infinite retry count)</td>
    </tr>
    <tr>
      <td>[database] min_pool_size = 1</td>
      <td>(IntOpt) Minimum number of SQL connections to keep open in a pool</td>
    </tr>
    <tr>
      <td>[database] mysql_sql_mode = TRADITIONAL</td>
      <td>(StrOpt) The SQL mode to be used for MySQL sessions. This option, including the default, overrides any server-set SQL mode. To use whatever SQL mode is set by the server configuration, set this to no value. Example: mysql_sql_mode=</td>
    </tr>
    <tr>
      <td>[database] pool_timeout = None</td>
      <td>(IntOpt) If set, use this value for pool_timeout with sqlalchemy</td>
    </tr>
    <tr>
      <td>[database] retry_interval = 10</td>
      <td>(IntOpt) Interval between retries of opening a sql connection</td>
    </tr>
    <tr>
      <td>[database] sqlite_db = glance.sqlite</td>
      <td>(StrOpt) The file name to use with SQLite</td>
    </tr>
    <tr>
      <td>[database] sqlite_synchronous = True</td>
      <td>(BoolOpt) If True, SQLite uses synchronous mode</td>
    </tr>
    <tr>
      <td>[database] use_db_reconnect = False</td>
      <td>(BoolOpt) Enable the experimental use of database reconnect on connection lost</td>
    </tr>
    <tr>
      <td>[image_format] container_formats = ['ami', 'ari', 'aki', 'bare', 'ovf', 'ova']</td>
      <td>(ListOpt) Supported values for the 'container_format' image attribute</td>
    </tr>
    <tr>
      <td>[image_format] disk_formats = ['ami', 'ari', 'aki', 'vhd', 'vmdk', 'raw', 'qcow2', 'vdi', 'iso']</td>
      <td>(ListOpt) Supported values for the 'disk_format' image attribute</td>
    </tr>
    <tr>
      <td>[matchmaker_ring] ringfile = /etc/oslo/matchmaker_ring.json</td>
      <td>(StrOpt) Matchmaker ring file (JSON).</td>
    </tr>
    <tr>
      <td>[store_type_location_strategy] store_type_preference = []</td>
      <td>(ListOpt) The store names to use to get store preference order. The name must be registered by one of the stores defined by the 'known_stores' config option. This option will be applied when you using 'store_type' option as image location strategy defined by the 'location_strategy' config option.</td>
    </tr>
    <tr>
      <td>[task] task_time_to_live = 48</td>
      <td>(IntOpt) Time in hours for which a task lives after, either succeeding or failing</td>
    </tr>
  </table>
  <table>
    <caption>New default values</caption>
    <col width="33%"/>
    <col width="33%"/>
    <col width="33%"/>
    <thead>
      <tr>
        <td>Option</td>
        <td>Previous default value</td>
        <td>New default value</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] default_log_levels</td>
      <td>amqplib=WARN, sqlalchemy=WARN, boto=WARN, suds=INFO, keystone=INFO, eventlet.wsgi.server=WARN</td>
      <td>amqp=WARN, amqplib=WARN, boto=WARN, qpid=WARN, sqlalchemy=WARN, suds=INFO, iso8601=WARN, requests.packages.urllib3.connectionpool=WARN</td>
    </tr>
    <tr>
      <td>[DEFAULT] known_stores</td>
      <td>glance.store.filesystem.Store, glance.store.http.Store, glance.store.rbd.Store, glance.store.s3.Store, glance.store.swift.Store, glance.store.sheepdog.Store, glance.store.cinder.Store</td>
      <td>glance.store.filesystem.Store, glance.store.http.Store</td>
    </tr>
    <tr>
      <td>[DEFAULT] logging_context_format_string</td>
      <td>%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user)s %(tenant)s] %(instance)s%(message)s</td>
      <td>%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s</td>
    </tr>
    <tr>
      <td>[DEFAULT] qpid_port</td>
      <td>5672</td>
      <td>5672</td>
    </tr>
    <tr>
      <td>[DEFAULT] rbd_store_ceph_conf</td>
      <td></td>
      <td>/etc/ceph/ceph.conf</td>
    </tr>
    <tr>
      <td>[DEFAULT] rbd_store_chunk_size</td>
      <td>4</td>
      <td>8</td>
    </tr>
    <tr>
      <td>[DEFAULT] rbd_store_pool</td>
      <td>rbd</td>
      <td>images</td>
    </tr>
    <tr>
      <td>[DEFAULT] sheepdog_store_port</td>
      <td>7000</td>
      <td>7000</td>
    </tr>
  </table>
  <table>
    <caption>Deprecated options</caption>
    <col width="50%"/>
    <col width="50%"/>
    <thead>
      <tr>
        <td>Deprecated option</td>
        <td>New Option</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] rabbit_durable_queues</td>
      <td>[DEFAULT] amqp_durable_queues</td>
    </tr>
    <tr>
      <td>[DEFAULT] disk_formats</td>
      <td>[image_format] disk_formats</td>
    </tr>
    <tr>
      <td>[DEFAULT] log_config</td>
      <td>[DEFAULT] log_config_append</td>
    </tr>
    <tr>
      <td>[DEFAULT] sql_connection</td>
      <td>[database] connection</td>
    </tr>
    <tr>
      <td>[DEFAULT] sql_max_retries</td>
      <td>[database] max_retries</td>
    </tr>
    <tr>
      <td>[DEFAULT] sql_retry_interval</td>
      <td>[database] retry_interval</td>
    </tr>
    <tr>
      <td>[DEFAULT] sql_idle_timeout</td>
      <td>[database] idle_timeout</td>
    </tr>
    <tr>
      <td>[DEFAULT] container_formats</td>
      <td>[image_format] container_formats</td>
    </tr>
  </table>
</section>
