<?xml version='1.0' encoding='UTF-8'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="glance-conf-changes-juno">
  <!-- Warning: Do not edit this file. It is automatically generated and your changes will be overwritten. The tool to do so lives in the openstack-doc-tools repository. -->
  <title>New, updated and deprecated options in Juno for OpenStack Image Service</title>
  <table>
    <caption>New options</caption>
    <col width="50%"/>
    <col width="50%"/>
    <thead>
      <tr>
        <td>Option = default value</td>
        <td>(Type) Help string</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] db_enforce_mysql_charset = True</td>
      <td>(BoolOpt) DEPRECATED. TO BE REMOVED IN THE JUNO RELEASE. Whether or not to enforce that all DB tables have charset utf8. If your database tables do not have charset utf8 you will need to convert before this option is removed. This option is only relevant if your database engine is MySQL.</td>
    </tr>
    <tr>
      <td>[DEFAULT] default_swift_reference = ref1</td>
      <td>(StrOpt) The reference to the default swift account/backing store parameters to use for adding new images.</td>
    </tr>
    <tr>
      <td>[DEFAULT] metadata_source_path = /etc/glance/metadefs/</td>
      <td>(StrOpt) Path to the directory where json metadata files are stored</td>
    </tr>
    <tr>
      <td>[DEFAULT] swift_store_config_file = None</td>
      <td>(StrOpt) The config file that has the swift account(s)configs.</td>
    </tr>
    <tr>
      <td>[database] slave_connection = None</td>
      <td>(StrOpt) The SQLAlchemy connection string to use to connect to the slave database.</td>
    </tr>
    <tr>
      <td>[glance_store] default_store = file</td>
      <td>(StrOpt) Default scheme to use to store image data. The scheme must be registered by one of the stores defined by the 'stores' config option.</td>
    </tr>
    <tr>
      <td>[glance_store] default_swift_reference = ref1</td>
      <td>(StrOpt) The reference to the default swift account/backing store parameters to use for adding new images.</td>
    </tr>
    <tr>
      <td>[glance_store] filesystem_store_datadir = None</td>
      <td>(StrOpt) Directory to which the Filesystem backend store writes images.</td>
    </tr>
    <tr>
      <td>[glance_store] filesystem_store_datadirs = None</td>
      <td>(MultiStrOpt) List of directories and its priorities to which the Filesystem backend store writes images.</td>
    </tr>
    <tr>
      <td>[glance_store] filesystem_store_metadata_file = None</td>
      <td>(StrOpt) The path to a file which contains the metadata to be returned with any location associated with this store.  The file must contain a valid JSON dict.</td>
    </tr>
    <tr>
      <td>[glance_store] stores = ['file', 'http']</td>
      <td>(ListOpt) List of stores enabled</td>
    </tr>
    <tr>
      <td>[glance_store] swift_store_auth_address = None</td>
      <td>(StrOpt) The address where the Swift authentication service is listening.(deprecated)</td>
    </tr>
    <tr>
      <td>[glance_store] swift_store_config_file = None</td>
      <td>(StrOpt) The config file that has the swift account(s)configs.</td>
    </tr>
    <tr>
      <td>[glance_store] swift_store_key = None</td>
      <td>(StrOpt) Auth key for the user authenticating against the Swift authentication service. (deprecated)</td>
    </tr>
    <tr>
      <td>[glance_store] swift_store_user = None</td>
      <td>(StrOpt) The user to authenticate against the Swift authentication service (deprecated)</td>
    </tr>
    <tr>
      <td>[keystone_authtoken] check_revocations_for_cached = False</td>
      <td>(BoolOpt) If true, the revocation list will be checked for cached tokens. This requires that PKI tokens are configured on the Keystone server.</td>
    </tr>
    <tr>
      <td>[keystone_authtoken] hash_algorithms = ['md5']</td>
      <td>(ListOpt) Hash algorithms to use for hashing PKI tokens. This may be a single algorithm or multiple. The algorithms are those supported by Python standard hashlib.new(). The hashes will be tried in the order given, so put the preferred one first for performance. The result of the first hash will be stored in the cache. This will typically be set to multiple values only while migrating from a less secure algorithm to a more secure one. Once all the old tokens are expired this option should be set to a single value for better performance.</td>
    </tr>
    <tr>
      <td>[keystone_authtoken] identity_uri = None</td>
      <td>(StrOpt) Complete admin Identity API endpoint. This should specify the unversioned root endpoint e.g. https://localhost:35357/</td>
    </tr>
    <tr>
      <td>[profiler] enabled = True</td>
      <td>(BoolOpt) If False fully disable profiling feature.</td>
    </tr>
    <tr>
      <td>[profiler] trace_sqlalchemy = True</td>
      <td>(BoolOpt) If False doesn't trace SQL requests.</td>
    </tr>
    <tr>
      <td>[task] eventlet_executor_pool_size = 1000</td>
      <td>(IntOpt) Specifies the maximum number of eventlet threads which can be spun up by the eventlet based task executor to perform execution of Glance tasks.</td>
    </tr>
    <tr>
      <td>[task] task_executor = eventlet</td>
      <td>(StrOpt) Specifies which task executor to be used to run the task scripts.</td>
    </tr>
  </table>
  <table>
    <caption>New default values</caption>
    <col width="33%"/>
    <col width="33%"/>
    <col width="33%"/>
    <thead>
      <tr>
        <td>Option</td>
        <td>Previous default value</td>
        <td>New default value</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] default_log_levels</td>
      <td>amqp=WARN, amqplib=WARN, boto=WARN, qpid=WARN, sqlalchemy=WARN, suds=INFO, iso8601=WARN, requests.packages.urllib3.connectionpool=WARN</td>
      <td>amqp=WARN, amqplib=WARN, boto=WARN, qpid=WARN, sqlalchemy=WARN, suds=INFO, oslo.messaging=INFO, iso8601=WARN, requests.packages.urllib3.connectionpool=WARN</td>
    </tr>
    <tr>
      <td>[DEFAULT] user_storage_quota</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <td>[DEFAULT] workers</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <td>[database] sqlite_db</td>
      <td>glance.sqlite</td>
      <td>oslo.sqlite</td>
    </tr>
    <tr>
      <td>[keystone_authtoken] revocation_cache_time</td>
      <td>300</td>
      <td>10</td>
    </tr>
  </table>
  <table>
    <caption>Deprecated options</caption>
    <col width="50%"/>
    <col width="50%"/>
    <thead>
      <tr>
        <td>Deprecated option</td>
        <td>New Option</td>
      </tr>
    </thead>
    <tr>
      <td>[DEFAULT] swift_store_auth_address</td>
      <td>[glance_store] swift_store_auth_address</td>
    </tr>
    <tr>
      <td>[DEFAULT] filesystem_store_metadata_file</td>
      <td>[glance_store] filesystem_store_metadata_file</td>
    </tr>
    <tr>
      <td>[DEFAULT] swift_store_key</td>
      <td>[glance_store] swift_store_key</td>
    </tr>
    <tr>
      <td>[DEFAULT] filesystem_store_datadir</td>
      <td>[glance_store] filesystem_store_datadir</td>
    </tr>
    <tr>
      <td>[DEFAULT] known_stores</td>
      <td>[glance_store] stores</td>
    </tr>
    <tr>
      <td>[DEFAULT] default_store</td>
      <td>[glance_store] default_store</td>
    </tr>
    <tr>
      <td>[DEFAULT] swift_store_user</td>
      <td>[glance_store] swift_store_user</td>
    </tr>
    <tr>
      <td>[DEFAULT] filesystem_store_datadirs</td>
      <td>[glance_store] filesystem_store_datadirs</td>
    </tr>
  </table>
</section>
