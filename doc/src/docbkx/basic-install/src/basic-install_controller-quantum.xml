<?xml version="1.0" encoding="UTF-8"?>
<section xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0"
    xml:id="basic-install_controller-quantum">
    <title>Quantum</title>
        <para>
            <orderedlist>
                <listitem>
                    <para>Install the packages:<screen os="ubuntu"><userinput>apt-get install quantum-server</userinput></screen>
                        <screen os="centos;rhel;fedora"><userinput>yum install openstack-quantum openstack-quantum-openvswitch</userinput></screen></para>
                </listitem>
                <listitem>
                    <para>Configure Quantum services :</para>
                    <itemizedlist>
                        <listitem>
                            <para>Edit <emphasis role="bold">/etc/quantum/quantum.conf</emphasis>
                            file and modify:<screen os="ubuntu"><userinput>core_plugin = \
    quantum.plugins.openvswitch.ovs_quantum_plugin.OVSQuantumPluginV2
auth_strategy = keystone
fake_rabbit = False
rabbit_password = password</userinput></screen><screen os="centos;rhel;fedora"><userinput>core_plugin = \
    quantum.plugins.openvswitch.ovs_quantum_plugin.OVSQuantumPluginV2
auth_strategy = keystone
fake_rabbit = False
rpc_backend=quantum.openstack.common.rpc.impl_qpid
qpid_username = guest
qpid_password = guest</userinput></screen></para>
                        </listitem>
                        <listitem>
                            <para>Edit <filename>/etc/quantum/plugins/openvswitch/ovs_quantum_plugin.ini</filename>
                            file and modify :<screen os="ubuntu"><userinput>[DATABASE]
sql_connection = mysql://quantum:password@localhost:3306/quantum
[OVS]
tenant_network_type = gre
tunnel_id_ranges = 1:1000
enable_tunneling = True</userinput></screen>
                                 <screen os="centos;rhel;fedora"><userinput>[DATABASE]
sql_connection = mysql://quantum:password@localhost:3306/quantum
[OVS]
enable_tunneling = False</userinput></screen></para>
                            <note os="ubuntu">
                                <para>It's more handy to choose
                               <emphasis role="bold">tunnel
                               mode</emphasis> since you don't
                               have to configure your physical
                               switches for VLANs.</para></note>
                                <note os="centos;rhel;fedora"><para>The Fedora kernel module for OpenVSwitch has been compiled 
                                    with out support for tunnels. To use gre tunnels the module will have to be recompiled.</para></note>
                        </listitem>
                        <listitem>
                            <para os="ubuntu">Edit <emphasis role="bold">/etc/quantum/api-paste.ini</emphasis> file and modify :<screen><userinput>admin_tenant_name = service
admin_user = quantum 
admin_password = password</userinput></screen></para>
                            <para os="centos;rhel;fedora">Edit <emphasis role="bold">/etc/quantum/api-paste.ini</emphasis> file and change:<screen><userinput>[filter:authtoken]
paste.filter_factory = keystoneclient.middleware.auth_token:filter_factory
auth_host = 127.0.0.1
auth_port = 35357
auth_protocol = http
admin_tenant_name = service
admin_user = quantum
admin_password = password
</userinput></screen></para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem os="centos;rhel;fedora">
                    <para>Enable the OVS plugin:
                        :<screen os="ubuntu"><userinput>ln -s /etc/quantum/plugins/openvswitch/ovs_quantum_plugin.ini /etc/quantum/plugin.ini</userinput></screen></para>
                </listitem>
                <listitem os="centos;rhel;fedora">
                    <para>Set SELinux to permissive mode:
                        :<screen><userinput>setenforce 0    
sed -i 's/SELINUX=enforcing/SELINUX=permissive/g' /etc/sysconfig/selinux</userinput></screen></para>
                </listitem>
                <listitem>
                    <para>Start the services:
                        <screen os="ubuntu"><userinput>service quantum-server restart</userinput></screen><screen os="centos;rhel;fedora"><userinput>service quantum-server restart
chkconfig quantum-server on</userinput></screen></para>
                </listitem>
            </orderedlist>
        </para>
</section>
